{"ast":null,"code":"var _jsxFileName = \"C:\\\\code\\\\English-platform-TS\\\\src\\\\Entry\\\\Entry.tsx\";\nimport Input from \"../Input/Input\";\nimport Form from \"../Form/Form\";\nimport FormsStore from \"../store/FormsStore\";\nimport { FormNames, InputNames } from \"../initializeForms\";\nimport { observer } from \"mobx-react-lite\";\nimport axios from \"../axios\";\nimport formsStore from \"../store/FormsStore\";\nimport { closeForm } from \"../Auth/CheckAuth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function endEntry(login, password) {\n  try {\n    await axios.post(\"auth/login\", {\n      userName: login,\n      password: password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.data).then(data => localStorage.setItem(\"token\", data.token));\n    //await tryGetUserData()\n    closeForm();\n  } catch (error) {\n    console.log(error);\n  }\n}\nconst Entry = observer(_c = () => {\n  const entryForm = FormsStore.getInstance().getForm(FormNames.ENTRY);\n  const inputsArray = [/*#__PURE__*/_jsxDEV(Input, {\n    placeholder: entryForm.getInput(InputNames.LOGIN).placeholder,\n    value: entryForm.getInput(InputNames.LOGIN).text,\n    edit: entryForm.getInput(InputNames.LOGIN)\n  }, 1, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 24\n  }, this), /*#__PURE__*/_jsxDEV(Input, {\n    placeholder: entryForm.getInput(InputNames.PASSWORD).placeholder,\n    value: entryForm.getInput(InputNames.PASSWORD).text,\n    edit: entryForm.getInput(InputNames.PASSWORD)\n  }, 2, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this)];\n  return /*#__PURE__*/_jsxDEV(Form, {\n    inputs: inputsArray,\n    btnText: \"Войти\",\n    title: \"Вход\",\n    onClick: () => {\n      endEntry(formsStore.getInstance().getForm(FormNames.ENTRY).getInput(InputNames.LOGIN).text, formsStore.getInstance().getForm(FormNames.ENTRY).getInput(InputNames.PASSWORD).text);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n});\n_c2 = Entry;\nexport default Entry;\nvar _c, _c2;\n$RefreshReg$(_c, \"Entry$observer\");\n$RefreshReg$(_c2, \"Entry\");","map":{"version":3,"names":["Input","Form","FormsStore","FormNames","InputNames","observer","axios","formsStore","closeForm","jsxDEV","_jsxDEV","endEntry","login","password","post","userName","headers","then","response","data","localStorage","setItem","token","error","console","log","Entry","_c","entryForm","getInstance","getForm","ENTRY","inputsArray","placeholder","getInput","LOGIN","value","text","edit","fileName","_jsxFileName","lineNumber","columnNumber","PASSWORD","inputs","btnText","title","onClick","_c2","$RefreshReg$"],"sources":["C:/code/English-platform-TS/src/Entry/Entry.tsx"],"sourcesContent":["import Input from \"../Input/Input\";\r\nimport Form from \"../Form/Form\";\r\nimport FormsStore from \"../store/FormsStore\";\r\nimport {FormNames, InputNames} from \"../initializeForms\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport axios from \"../axios\";\r\nimport formsStore from \"../store/FormsStore\";\r\nimport {closeForm, tryGetUserData} from \"../Auth/CheckAuth\";\r\n\r\nasync function endEntry(login: string, password: string){\r\n  try {\r\n    await axios.post(\"auth/login\", {\r\n      userName: login,\r\n      password: password\r\n    }, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(response => response.data)\r\n      .then(data => localStorage.setItem(\"token\", data.token))\r\n    //await tryGetUserData()\r\n    closeForm()\r\n  } catch (error: any){\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nconst Entry = observer(() => {\r\n  const entryForm = FormsStore.getInstance().getForm(FormNames.ENTRY)!\r\n\r\n  const inputsArray = [<Input placeholder={entryForm.getInput(InputNames.LOGIN)!.placeholder}\r\n                              key={1} value={entryForm.getInput(InputNames.LOGIN)!.text}\r\n                              edit={entryForm.getInput(InputNames.LOGIN)!}/>,\r\n    <Input placeholder={entryForm.getInput(InputNames.PASSWORD)!.placeholder}\r\n           key={2} value={entryForm.getInput(InputNames.PASSWORD)!.text}\r\n           edit={entryForm.getInput(InputNames.PASSWORD)!}/>]\r\n\r\n  return(\r\n    <Form inputs={inputsArray} btnText={\"Войти\"} title={\"Вход\"} onClick={() => {\r\n      endEntry(formsStore.getInstance().getForm(FormNames.ENTRY)!.getInput(InputNames.LOGIN)!.text,\r\n        formsStore.getInstance().getForm(FormNames.ENTRY)!.getInput(InputNames.PASSWORD)!.text)\r\n    }}/>\r\n  )\r\n})\r\n\r\nexport default Entry"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}